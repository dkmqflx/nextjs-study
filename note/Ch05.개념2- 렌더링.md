## 5.2 ìµœì‹  ë²„ì „ì˜ í° ì°¨ì´ì 

### v12

- í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë Œë”ë§ ë°©ì‹ì„ ê·œì •

- í˜ì´ì§€ ì•ˆì—ì„œ getStaticProps ì‚¬ìš©í•˜ë©´ SSG

- getServerSideProps ì‚¬ìš©í•˜ë©´ SSR

- ì´ëŸ¬í•œ ê²ƒë“¤ì´ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ê·œì •ì´ ë˜ì—ˆë‹¤.

### v13

- í˜ì´ì§€ ë‹¨ìœ„ê°€ ì•„ë‹ˆë¼ Server Component ê°œë…ì´ ë„ì… ë˜ì—ˆë‹¤ (Server Component / Client Component)

  - ì„œë²„ ìƒì—ì„œë§Œ ë™ì‘í•˜ëŠ” ì»´í¬ë„ŒíŠ¸

- 13 ë²„ì „ ë¶€í„°ëŠ” í˜ì´ì§€ ë‹¨ìœ„ê°€ ì•„ë‹ˆë¼ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë Œë”ë§ ë‹¨ìœ„ë¥¼ ê·œì •

- í•œ í˜ì´ì§€ ì•ˆì—ì„œë„ ì–´ë–¤ ê²ƒì€ ì„œë²„ ì»´í¬ë„ŒíŠ¸, ì–´ë–¤ ê²ƒì€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸

- ì´ëŸ° ê²ƒ ì„ì–´ì„œ íš¨ìœ¨ì ìœ¼ë¡œ í˜ì´ì§€ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤

<img src='./images/5-2-1.png'>

- app í´ë” ì•ˆì— ìˆëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë‘ ì„œë²„ ì»´í¬ë„ŒíŠ¸

  - ë³„ë„ë¡œ ì„¤ì •í•˜ì§€ í•˜ì§€ ì•ŠëŠ” ì´ìƒ ëª¨ë‘ ì„œë²„ì—ì„œ ì‹¤í–‰ëœë‹¤

- ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì´ ë‹¤ë¥´ë‹ˆê¹Œ

  - ì„œë²„ ì»´í¬ë„ŒíŠ¸ : ì„œë²„

  - í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ : í´ë¼ì´ì–¸íŠ¸

- ì„œë¡œ í•  ìˆ˜ ìˆëŠ” ê²ƒê³¼ ì—†ëŠ” ê²ƒì´ ë‹¤ë¥´ë‹¤

---

## 5.3 ì„œë²„ ì»´í¬ë„ŒíŠ¸

- app í´ë” ì•ˆì— ìˆëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë‘ ì„œë²„ ì»´í¬ë„ŒíŠ¸

  - ë³„ë„ë¡œ ì„¤ì •í•˜ì§€ í•˜ì§€ ì•ŠëŠ” ì´ìƒ ëª¨ë‘ ì„œë²„ì—ì„œ ì‹¤í–‰ëœë‹¤

  - ì‹¤ì œë¡œ app/page.tsxì—ì„œ `console.log('hello');` í•˜ë©´, ë¸Œë¼ìš°ì €ê°€ ì•„ë‹Œ í„°ë¯¸ë„ì—ì„œ ì¶œë ¥ëœë‹¤

- ì„œë²„ì—ì„œ ë¹Œë“œê°€ ë ë•Œ ì‹¤í–‰ì´ë˜ê³ , HTML í˜•íƒœë¡œ ë¸Œë¼ìš°ì €ì— ì „ë‹¬ëœë‹¤

  - ë˜ëŠ” fetchingì„ ì‚¬ìš©í•´ì„œ SSRë¡œ í•œë‹¤ë©´ ìš”ì²­ì‹œì— ì„œë²„ì—ì„œ ì‹¤í–‰ëœë‹¤

- ì„œë²„ì—ì„œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ì—ì„œ ì œê³µí•˜ëŠ” apiëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ê³ 

- ë…¸ë“œ í™˜ê²½ì—ì„œ ì œê³µí•˜ëŠ” ë…¸ë“œ apiëŠ” ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

```js
// app/page.tsx
import os from 'os' // ë…¸ë“œ API

export default function Home() {
  // ëª¨ë‘ í„°ë¯¸ë„ì—ì„œë§Œ ì¶œë ¥ëœë‹¤
  console.log('hello');
  console.log(os.hostname());
  return <h1>í˜ì´ì§€</h1>;
}
```

- ê·¸ë ‡ê¸° ë•Œë¬¸ì— ìƒíƒœ ê´€ë ¨ëœ ê²ƒ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤

- ì»´íŒŒì¼ ê´€ë ¨ ì—ëŸ¬ ë°œìƒí•œë‹¤

```js
// app/page.tsx

export default function Home() {
  // ì—ëŸ¬ ë°œìƒ
  const [state, setState] = useState();

  console.log('hello - ì„œë²„ ì»´í¬ë„ŒíŠ¸');
  console.log(os.hostname());
  return <h1>í˜ì´ì§€</h1>;
}
```

- ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ í•  ìˆ˜ ìˆëŠ” ê²ƒê³¼ ì—†ëŠ” ê²ƒ êµ¬ë¶„í•´ì•¼ í•œë‹¤


### Q. Next.jsì˜ ì›¹ ì„œë¹„ìŠ¤ êµ¬ì¡°

- ê°•ì˜ë¥¼ ë“£ë‹¤ë³´ë‹ˆ next.jsë¡œ ì„œë¹„ìŠ¤ì‹œ ì›¹ ì„œë¹„ìŠ¤ì˜ êµ¬ì¡°ê°€ ì˜ë¬¸ì´ ë“­ë‹ˆë‹¤.

- spaì˜ ê²½ìš° ìµœì´ˆ ë¬¸ì„œë¥¼ ì£¼ëŠ” ì„œë²„ì¸ next.jsì„œë²„ì—ì„œ íŒŒì¼ì„ ë°›ì•„ì˜¨ ì´í›„ì—ëŠ” apiì„œë²„ë¡œ ì§ì ‘ í†µì‹ í•˜ê³  ssrì€ ê²½ìš°ì—ëŠ” ë¬¸ì„œë‘ íŒŒì¼ ë°›ì•„ì™€ë„ next.js ì„œë²„ë¥¼ ê±°ì³ì„œ api í†µì‹ ì„ í•˜ëŠ” ê²ƒì¸ê°€ìš”?

- ê·¸ë¦¬ê³  ì´ë ‡ê²Œ êµ¬ì„±í•˜ê²Œë˜ë©´ next.jsëŠ” route53 - cloud front - s3 ì— ë„£ìœ¼ë©´ ì•ˆë˜ëŠ” ê²ƒì¸ê°€ìš”?

- ì‚¬ì‹¤ ë­ê°€ ë­”ì§€ ì œê°€ ë­˜ ëª¨ë¥´ëŠ”ì§€ë„ ëª¨ë¥´ê² ì–´ì„œ next.js + ìŠ¤í”„ë§ë¶€íŠ¸(api) ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í–ˆì„ë•Œ ì›¹ ì„œë¹„ìŠ¤ êµ¬ì¡°ê°€ ì–´ë–»ê²Œ ê·¸ë ¤ì§€ëŠ”ì§€ ì•Œê³ ì‹¶ìŠµë‹ˆë‹¤.

### A. 

- ë°°í¬ëœ í”„ë¡œì íŠ¸ê°€ Vercelì—ì„œ ì–´ë–»ê²Œ ìš´ì˜ë˜ëŠ”ì§€ ë¯¸ìŠ¤í…Œë¦¬ì˜€ì–´ìš”. ì™œëƒ, Vercelì—ì„œ ëª…í™•í•˜ê²Œ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–»ê²Œ ì„œë²„ ì½”ë“œë¥¼ ë™ì‘í•˜ëŠ”ì§€ ë¬¸ì„œí™” í•´ë‘ì§€ ì•Šì•˜ê±°ë“ ìš”.

- ê·¸ëŸ°ë°, ìµœê·¼ì— ì‘ì„±ëœ ì´ ê¸€ì— ì–´ë–»ê²Œ ìš´ì˜ë˜ëŠ”ì§€ ëª…ì‹œí•´ ì£¼ê³  ìˆìŠµë‹ˆë‹¤ :)

- [Framework-defined infrastructure](https://vercel.com/blog/framework-defined-infrastructure#applying-framework-defined-infrastructure)

---

## 5.4 í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸

- í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬í•˜ëŠ” ê²ƒ ê°™ì´ ì •ë§ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì»´í¬ë„ŒíŠ¸ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬í•œë‹¤

- ì•„ë˜ì²˜ëŸ¼ 'use client'ë¥¼ ì„ ì–¸í•´ì£¼ì–´ì•¼ í•œë‹¤

```jsx

'use client'

```

- ê·¸ë ‡ê¸° ë•Œë¬¸ì— í˜ì´ì§€ ì „ì²´ë¥¼ 'use client'ë¥¼ ì„ ì–¸í•´ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì •ë§ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ 'use client'ë¥¼ ì„ ì–¸í•´ì£¼ë„ë¡ í•œë‹¤

- src/components í´ë” ë‚´ì— ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³ , ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— useState ê°™ì€ hook ë˜ëŠ” ë¸Œë¼ìš°ì € ì´ë²¤íŠ¸ ë¦¬ìŠ¤í„° ê°™ì€ ê²ƒë“¤ì„ ì„ ì–¸í•´ì£¼ëŠ” ê²½ìš°ì—ëŠ” src/appì—ì„œ importí•´ì„œ ë¶ˆëŸ¬ì™€ì„œ ê·¸ëƒ¥ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤

- ë”°ë¼ì„œ ì´ë•Œ 'use client'ë¥¼ ì»´í¬ë„ŒíŠ¸ ìƒë‹¨ì— ì„ ì–¸í•´ì„œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¼ëŠ” ê²ƒì„ ëª…ì‹œí•´ì£¼ì–´ì•¼ í•œë‹¤.

- í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë„ ì •ì ì¸ ë¶€ë¶„ì´ ì„œë²„ì—ì„œ pre-renderingë˜ì§€ë§Œ,

- ëŒ€ì‹  ë Œë”ë§ ë° ì‚¬ìš©ì ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½”ë“œë„ í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ë¡œ ë³´ë‚´ì ¸ì„œ í´ë¼ì´ì–¸íŠ¸ ìƒì—ì„œ ë‹¤ì‹œ í•˜ì´ë“œë ˆì´ì…˜ ëœë‹µë‹ˆë‹¤.

- [Using Client Components in Next.js](https://nextjs.org/docs/app/building-your-application/rendering/client-components#using-client-components-in-nextjs)

    - "use client" is used to declare a boundary between a Server and Client Component modules. This means that by defining a "use client" in a file, all other modules imported into it, including child components, are considered part of the client bundle

- í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¼ë©´ (ìƒíƒœë¥¼ ê°€ì§€ê±°ë‚˜, ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ í•˜ê±°ë‚˜ ë“±) íŒŒì¼ ìƒë‹¨ì— 'use client'ë¥¼ ì¨ì¤˜ì•¼ í•´ìš”. ë‹¤ë§Œ, ì´ë ‡ê²Œ ëª…ì‹œí•˜ëŠ”ê²ƒì€ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ê³„ë¥¼ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•´ì£¼ê¸° ìœ„í•´ì„œì˜ˆìš”. í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ëª¨ë“ˆ (íŠ¸ë¦¬) ë‚´ì—ì„œ ì“°ì´ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ëª¨ë“ ê²Œ ë‹¤ ìë™ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë²ˆë“¤ë§/ê°„ì£¼ ë˜ë¯€ë¡œ, ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë³„ë„ë¡œ 'use client'ë¼ê³  ëª…ì‹œí•´ ì£¼ì§€ ì•Šì•„ë„ ë˜ìš”.

- ê·¸ë˜ì„œ ê°€ê¸‰ì  'use client'ë¥¼ ì‚¬ìš©í•´ì„œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œëŠ”ê²ƒì€ ì •ë§ í•„ìš”í•œ ê³³ì—ì„œ, ê·¸ë¦¬ê³  ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ë§ë‹¨ì— í•´ì£¼ëŠ”ê²Œ ì¢‹ì•„ìš”.

- ì™œëƒ, ìƒìœ„ í˜ì´ì§€ ë° ìƒìœ„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ ìì²´ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ë©´, ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë“¤ì´ í†µì§¸ë¡œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë˜ì–´ ì„±ëŠ¥ì— ì¢‹ì§€ ì•Šê¸° ë–„ë¬¸!
  
---

## 5.5 ë™ì‘ ì›ë¦¬ ë¶„ì„ ğŸ˜

- Chapter04 í´ë” íŒŒì¼ì„ ê¸°ì¤€ìœ¼ë¡œ í•œë‹¤

```shell

$ yarn build

```

- ë¹Œë“œë¥¼ í•˜ê²Œ ë˜ë©´ ì„œë²„ ì»´í¬ë„ŒíŠ¸, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— console.logë¡œ ì‘ì„±ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì´ ëª¨ë‘ ë¹Œë“œ í›„ ë¡œê·¸ë¡œ ì¶œë ¥ì´ ëœë‹¤

- `yart start`ë¥¼ ì‹¤í–‰í•œ ë‹¤ìŒ, ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ html ë¬¸ì„œ íŒŒì¼ ë³´ë©´, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— í•´ë‹¹í•˜ëŠ” Counter ë¶€ë¶„ë„ ë¬¸ì„œ(document)ì— ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ì´ë‹¤

- ì´ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë¬´ì¡°ê±´ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼

  - ì‚¬ìš©ì í´ë¦­ ì²˜ë¦¬ ê°™ì€, **ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ ë˜ì–´ì•¼ í•˜ëŠ” ì½”ë“œ**ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¼ê³  í•˜ê³ ,

  - í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì½”ë“œê°€ í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚´ì§€ëŠ” ê²ƒì„ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¼ê³  í•œë‹¤

- document html ë¬¸ì„œ íŒŒì¼ì—ì„œ Counter ì¦ê°€ ì‹œí‚¤ê¸° ìœ„í•œ ë²„íŠ¼ ëˆŒëŸ¬ë„ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤

  - ì¦‰, í´ë¦­ ì´ë²¤íŠ¸ëŠ” ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤
    
  - í´ë¦­ì´ ë˜ë ¤ë©´  í•˜ì´ë“œë ˆì´ì…˜ì´ ì¼ì–´ë‚˜ì•¼ í•œë‹¤.

  - ì •ì ì¸ html íŒŒì¼ë§Œìœ¼ë¡œëŠ” í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ê·¸ë¦¬ê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ”ë° í•„ìš”í•œ ë¦¬ì•¡íŠ¸ ê´€ë ¨ëœ íŒŒì¼ ë‹¤ìš´ë°›ê³  ì‹¤í–‰ë˜ì–´ ì»´í¬ë„ŒíŠ¸ë¡œ ë Œë”ë§ì´ ë˜ì–´ì•¼ í•œë‹¤.

  - ì´ë ‡ê²Œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ í•˜ì´ë“œë ˆì´ì…˜ì´ ì¼ì–´ë‚˜ì•¼ì§€ ì‹¤ì œë¡œ ë¸Œë¼ìš°ì € ìƒì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ì—†ë‹¤.

- app í´ë” ë‚´ì—ì„œ í˜ì´ì§€ ë§Œë“¤ê³  ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ê°ê° ë§Œë“¤ ìˆ˜ ìˆë‹¤

- í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¼ë„ ë¼ë„ ë¹Œë“œë¥¼ í•˜ë©´ ì •ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë¶€ë¶„ì€ htmlë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©ìì—ê²Œ ë³´ë‚´ì¤€ë‹¤

  - ê·¸ë ‡ê¸° ë•Œë¬¸ì— í„°ë¯¸ë„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— ìˆëŠ” ë¡œê·¸ê°€ ì°íŒ ê²ƒ

  - í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤í–‰ë˜ê¸° ìœ„í•œ js ì½”ë“œê°€ ë³´ë‚´ì§€ë©´ ê·¸ ë•Œ ì´ë²¤íŠ¸ ê°™ì€ ê²ƒë“¤ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤

- ì •ë¦¬í•˜ë©´ v13ì—ì„œëŠ” í˜ì´ì§€ ì „ì²´ ì½”ë“œê°€ ë‹¤ ê°€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì„œë²„ ì»´í¬ë„ŒíŠ¸ ë¶€ë¶„ì€ ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ì–´ html ìƒíƒœë¡œ ë‚¨ì•„ìˆê³ 

  - v12 ê¹Œì§€ëŠ” í˜ì´ì§€ ë‹¨ìœ„ë¡œ ì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆë‹¤

- ì¦‰, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ìœ„í•œ ë¶€ë¶„ì ì¸ ì½”ë“œë§Œ ë³´ë‚´ì§€ëŠ” ê²ƒì´ë‹¤

- ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë²ˆë“¤ì´ë˜ëŠ” js ì½”ë“œë„ ì‘ì•„ì§€ëŠ” ê²ƒ

- htmlë§Œ ë°›ìœ¼ë©´ ê·¸ëƒ¥ html íŒŒì¼ì´ê³  ë¸Œë¼ìš°ì €ì—ì„œ í´ë¦­ì„ í•´ë„ ì²˜ë¦¬ê°€ ë˜ì§€ ì•Šê² ì§€ë§Œ js ì½”ë“œë“¤ì„ ë°›ëŠ” ìˆœê°„, ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜ì´ ë˜ê³  ì´ë²¤íŠ¸ ê°™ì€ ê²ƒë“¤ë„ ì²˜ë¦¬ê°€ ëœë‹¤

- React dev toolsì— ê°€ë©´ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

  - ë‚´ ìƒê°ì— ì •ë¦¬í•´ë³´ë©´, í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ì´ë€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ë¸Œë¼ìš°ì €ì—ì„œ DOMì„ ëª¨ë‘ ë Œë”ë§í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼

  - pre rendering í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì€ ì„œë²„ì‚¬ì´ë“œì—ì„œ í•˜ê³ , ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ ê°™ì€ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì½”ë“œë“¤ì„ ìœ„í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼, ë¦¬ì•¡íŠ¸ íŒŒì¼ì„ ë°›ì•„ì„œ

  - ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ í•˜ì´ë“œë ˆì´ì…˜ ë˜ê³  í•´ë‹¹ ê¸°ëŠ¥ì´ ë¸Œë¼ìš°ì €ì— ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ê²Œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì¸ ê²ƒ ê°™ë‹¤.

- SSGê°€ í•„ìš”í•œ ë¶€ë¶„ì€ ì„œë²„ì»´í¬ë„ŒíŠ¸ë¡œ ì‘ì„± => ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ SSGë¡œ ì‘ë™í•œë‹¤

- ì¦‰, í´ë¼ì´ì–¸íŠ¸ì˜ ë™ì‘ì´ í•„ìš”í•œ ë¶€ë¶„ì€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì‘ì„±í•œë‹¤

  - "í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë¸Œë¼ìš°ì ¸ì—ì„œ ì „ë‹¬ëœ í›„ ì ìš©ëœ í˜•íƒœë¥¼ ë“¤ì—¬ë‹¤ ë³´ì•˜ìŠµë‹ˆë‹¤.
    
  - ê·¸ ê³¼ì •ì—ì„œ í´ë¼ì»´í¬ë„ŒíŠ¸ ì „ì²´ê°€ ë‹¤ ë²ˆë“¤ë§ í˜•íƒœì˜ ìë°”í¬ìŠ¤ë¦½íŠ¸ ë°©ì‹ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ”ê²Œ ì•„ë‹ˆë¼,

  - next.jsëŠ” ì§‘ìš”í•˜ê²Œ, ì²˜ìŒ htmlìœ¼ë¡œ ëº¼ ìˆ˜ ìˆëŠ” ë¶€ë¶„ì„ ì°¾ì•„ì„œ í”„ë¦¬ë Œë”ë§í•˜ì—¬ ì¶”ë ¤ë‚¸ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

  - ë”°ë¼ì„œ ë²ˆë“¤ë§ë˜ëŠ” í´ë¼ ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ì— ê´€ë ¨í•œ ì½”ë“œëŠ” ì œì™¸ë  ê²ƒì´ë¯€ë¡œ ë²ˆë“¤ë§ íŒŒì¼ì˜ ì´ ìš©ëŸ‰ì´ ì ì–´ì§ˆ ê²ƒ ì„ì„ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

---

## 5.6 ê³µì‹ ì‚¬ì´íŠ¸ ì½ê¸° âœï¸

- [Installation](https://nextjs.org/docs/getting-started/installation)
  
- [Rendering](https://nextjs.org/docs/app/building-your-application/rendering#why-server-components)

### Rendering Fundamentals

- [Using Server Components in Next.js](https://nextjs.org/docs/app/building-your-application/rendering#why-server-components)

- Rendering Environments

  - There are two environments where your application code can be rendered: the client and the server.

  - The client refers to the browser on a userâ€™s device that sends a request to a server for your application code. It then turns the response from the server into an interface the user can interact with.

  - The server refers to the computer in a data center that stores your application code, receives requests from a client, does some computation, and sends back an appropriate response.

- Component-level Client and Server Rendering

  - Next.js provided an easier way to break down your application into pages and prerender on the server by generating HTML and sending it to the client to be hydrated by React.

  - However, this led to additional JavaScript needed on the client to make the initial HTML interactive.

  - Now, with Server and Client Components, React can render on the client and the server meaning you can choose the rendering environment at the component level.

  - By default, the app directory uses **Server Components**, allowing you to easily render components on the server and reducing the amount of JavaScript sent to the client.

    - Server Componentsì—ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚¼ ì½”ë“œê°€ ì—†ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚´ì§€ëŠ” js íŒŒì¼ í¬ê¸°ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤

- Server and Client components are rendered differently during Static Rendering:

  - Client Components have their HTML and JSON prerendered and cached on the server.

  - The cached result is then sent to the client for hydration.
    Server Components are rendered on the server by React, and their payload is used to generate HTML.

  - The same rendered payload is also used to hydrate the components on the client, resulting in no JavaScript needed on the client.


### Server and Client Components


- Server and Client Components allow developers to build applications that span the server and client, combining the rich interactivity of client-side apps with the improved performance of traditional server rendering.

- Why Server Components?

  - [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components)

  - Server Components allow developers to better leverage server infrastructure.

  - For example, large dependencies that previously would impact the JavaScript bundle size on the client can instead remain entirely on the server, leading to improved performance.

  - Server Components make writing a React application feel similar to PHP or Ruby on Rails, but with the power and flexibility of React for templating UI.

  - With Server Components, the initial page load is faster, and the client-side JavaScript bundle size is reduced.

  - The base client-side runtime is cacheable and predictable in size, and does not increase as your application grows.

  - Additional JavaScript is only added as client-side interactivity is used in your application through Client Components.

- Client Components

  - [Client Components](https://nextjs.org/docs/app/building-your-application/rendering/client-components)

  - Client Components enable you to add client-side interactivity to your application.

  - In Next.js, they are prerendered on the server and hydrated on the client. You can think of Client Components as how components in the Next.js pages/ directory have always worked.

- [ì–¸ì œ Server Component, Client Component ì“°ëŠ”ì§€ - When to use Server and Client Components?](https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns#when-to-use-server-and-client-components)

---

## 5.9 ISR ë Œë”ë§


### Q. revalidate ë¥¼ 10ìœ¼ë¡œ ì§€ì •í–ˆì„ë•Œ

- jsoníŒŒì¼ì„ ì €ì¥í•œ ì‹œì ë¶€í„° 10ì´ˆë’¤ ë¸Œë¼ìš°ì €ì— ì ìš©ë˜ëŠ”ê²Œ ì•„ë‹ˆë¼

- ì„œë²„ì—ì„œ revalidateì‹œê°„ì— ë§ì¶°ì„œ ìë™ìœ¼ë¡œ ê³„ì† ê°±ì‹ ì„ í•˜ê³ ìˆëŠ”ê²ƒê°™ì€ë° ì´ê²Œ ë§ë‚˜ìš”?

### A. 

- ì €ë„ ì²˜ìŒì— ì§€ì •í•œ ì‹œê°„ë³´ë‹¤ ë¹¨ë¦¬ ë Œë”ë§ ë˜ëŠ” ê²ƒ ê°™ê¸°ë„ í•˜ê³ ... ë„ëŒ€ì²´ ë­ì§€ ì‹¶ì–´ì„œ ì¶”ê°€ë¡œ ì¡°ì‚¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤!

- ì•„ì§ ì™„ë²½í•˜ê²Œ ì´í•´ëŠ” ëª»í–ˆëŠ”ë°, ê³µì‹ë¬¸ì„œë¥¼ ì½ì–´ë³´ë©´ ì„œë²„ê°€ ì§€ì •í•œ ì‹œê°„ë§ˆë‹¤ ìë™ìœ¼ë¡œ ê°±ì‹ í•˜ëŠ” ê²ƒ ê°™ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.

- revalidate periodê°€ ì§€ì •ëœ ë£¨íŠ¸ì— ìš”ì²­ì´ ì™”ì„ ë•Œ, NextëŠ” ì¼ë‹¨ ë¯¸ë¦¬ ë Œë”ë§ í•´ì„œ ìºì‰¬ í•´ë†“ì€ í˜ì´ì§€ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚´ê³ ,

- ë§ˆì§€ë§‰ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ë Œë”ë§í•œ ì‹œê°„ì´ ì§€ì •í•œ revalidate periodë¥¼ ë„˜ê²¼ë‹¤ë©´ ë‹¤ì‹œ ë Œë”ë§ í•´ì„œ ìºì‰¬ í•´ ë‘ëŠ” ë°©ì‹ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

- yarn build í›„ì— .next/server/appì„ ë³´ë©´ products.htmlì´ ìƒì„±ë˜ì–´ ìˆëŠ”ë°, ì´ íŒŒì¼ì„ ì—´ì–´ì„œ í™•ì¸í•´ë³´ë©´ ì„œë²„ê°€ ì–´ë–¤ íƒ€ì´ë°ì— ë‹¤ì‹œ ë Œë”ë§ í•˜ëŠ”ì§€ ëŒ€ì¶© ê°ì´ ì˜¤ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤!

<br/>

- How it works ë¶€ë¶„ ë³´ì‹œë©´ ë„ì›€ì´ ë˜ì‹¤ê±°ì˜ˆìš”:(í˜„ì¬ ì—†ìŒ, í•˜ì§€ë§Œ ì•„ë˜ ë¬¸ì„œ ë³´ë©´ ë„ì›€ ë¨)

  - [Time-based Revalidation](https://nextjs.org/docs/app/building-your-application/caching#time-based-revalidation)
 
    - less than: ë¯¸ë§Œ,
      
    - more thant: ì´ˆê³¼

  - ê·¸ë¦¼ì— ëŒ€í•œ ì„¤ëª…ì€ ë‹¤ìŒê³¼ ê°™ë‹¤

  - ì˜ˆë¥¼ë“¤ì–´ `export const revalidate = 3;`ì¸ ê²½ìš°

  - ì²˜ìŒ ìš”ì²­í•œë‹¤ë©´ ì™¸ë¶€ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ í˜ì´ì§€ë¥¼ ë°˜í™˜í•œë‹¤.

  - ê·¸ë¦¬ê³  3ì´ˆê°€ ì§€ë‚˜ì„œ ìš”ì³¥í•˜ëŠ” ê²½ìš°ì—ë„ ìºì‹±ëœ í˜ì´ì§€ë¥¼ ê·¸ëŒ€ë¡œ ë‹¤ì‹œ ë³´ë‚¸ë‹¤
 
  - í•˜ì§€ë§Œ ì´ ë•Œ, background ì—ì„œëŠ” page regenerationì´ ì¼ì–´ë‚˜ê³  fresh data ìˆëŠ” page ë§Œë“¤ì–´ì§„ë‹¤

  - ê·¸ë¦¬ê³  ë‹¤ì‹œ í•œë²ˆ ìš”ì²­ì„ í–ˆì„ ë•Œ fresh data ìˆëŠ” page ë³´ë‚´ì¤€ë‹¤

  - ë§Œì•½ regenerationì´ ì‹¤íŒ¨í•˜ê²Œ ë˜ë©´ old pageê°€ ë‚¨ì•„ ìˆì–´ì•¼ì§€ í•´ë‹¹ í˜ì´ì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤
    

### Q. ssr ì„ ì•ˆì“°ê³  ISRì„ ë„ì…í•´ì•¼í•  ì˜ˆì‹œ ìƒí™©ì´ ë­ê°€ ìˆì„ì§€ ëª¨ë¥´ê² ì–´ìš”.

### A.

- ì˜ìƒì—ì„œ ì„¤ëª…í•´ë“œë¦°ëŒ€ë¡œ, ì„œë²„ì—ì„œ ë°ì´í„°ê°€ (ì˜ˆë¥¼ ë“¤ë©´ DBë‚˜ í´ë¼ìš°ë“œìƒì˜ ë°ì´í„°) ë³€ê²½ë˜ëŠ”ë° ì´ëŸ° ë°ì´í„°ê°€ ì¦‰ê°ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ì•ˆë´ë„ ë˜ëŠ” ê²½ìš° ë§¤ì¼ íŠ¹ì •í•œ ì‹œê°„ì— í˜ì´ì§€ë¥¼ ìƒˆë¡­ê²Œ ë§Œë“¤ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”.

- í™ˆí˜ì´ì§€ ì†Œê°œ í˜ì´ì§€ë‚˜ ë¸”ë¡œê·¸ ëª©ì°¨ ë“±ë“± í”„ë¡œì íŠ¸ ë§ˆë‹¤ íšŒì‚¬ ì„±í–¥ ë§ˆë‹¤ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì£ 

----

## 5.10 fetchë¥¼ ì‚¬ìš©í•œ SSG, ISR, SSR

- [Caching Data](https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#caching-data)

- revalidate 0 ì˜µì…˜ì„ ì£¼ë©´ ,  ìƒˆë¡œê³ ì¹¨ í•˜ë”ë¼ë„ ì´ì „ í˜ì´ì§€ ë³´ì—¬ì£¼ê³  ê·¸ ë‹¤ìŒ í•œë²ˆ ë” ìƒˆë¡œê³ ì¹¨ í–ˆì„ ë•Œ ìƒˆë¡­ê²Œ ë³€ê²½ëœ í™”ë©´ì„ ë³´ì—¬ì¤€ë‹¤.

- í˜„ì¬ ì½”ë“œì—ì„œëŠ” cache ì˜µì…˜ ì‚¬ìš©í•˜ë©´ ê·¸ëŸ° ì˜µì…˜ ì—†ë‹¤ê³  ë‚˜íƒ€ë‚˜ëŠ”ë° ì•„ë§ˆ ë²„ì „ ë¬¸ì œê°€ ì•„ë‹Œê°€ ì‹¶ë‹¤

- [Individual fetch Requests](https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#individual-fetch-requests)

  - To opt out of caching for individual fetch requests, you can set the cache option in fetch to 'no-store'. This will fetch data dynamically, on every request.


### Q.fetchëŠ” ë¸Œë¼ìš°ì € api ì•„ë‹Œê°€ìš”?


### A.

- ë„µ, ì •í™•í•©ë‹ˆë‹¤ :) React 18 ë²„ì „ì—ì„œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ fetchë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•´ ë‘ì—ˆë‹µë‹ˆë‹¤

- [fetch](https://nextjs.org/docs/app/api-reference/functions/fetch)
---

## 5.11 fetchë¥¼ ì‚¬ìš©í•œ CSR

- ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ì ‘ê·¼í•  ë•Œ ë§ˆë‹¤ ì¦‰ê°ì ì¸ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ì–´ì•¼ í•œë‹¤ë©´ CSRì„ ì‚¬ìš©í•œë‹¤
  
- SSRë¡œ í•˜ë©´ ì„œë²„ì— ë¶€í•˜ë¥¼ ë§ì´ ì£¼ê³  ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆëŠ” ê²½ìš°ì—
  
- ë™ì ìœ¼ë¡œ ë°”ë€Œì§€ë§Œ ì¤‘ìš”í•˜ê³  ì˜ë¯¸ìˆëŠ” ì»¨í…ì¸ ê°€ ì•„ë‹Œ ê²½ìš° CSR ì‚¬ìš©í•œë‹¤
  

- ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ë°©ë¬¸í•  ë•Œ ë§ˆë‹¤ ë‹¤ë¥¸ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ì„œ CSR

- SSRë¡œ í•˜ë©´ ì„œë²„ì— ê³¼ë¶€í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¹„ íš¨ìœ¨ì ì´ë‹¤

- ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë™ì ìœ¼ë¡œ ë°”ë€Œê±°ë‚˜ ì¤‘ìš”í•˜ì§€ ì•Šì€ ì •ë³´ëŠ” CSRë¡œ í•œë‹¤

- ê·¸ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ íƒ­ì„ ë³´ë©´ useEffectë¡œ ë°›ì•„ì˜¤ëŠ” ë¶€ë¶„ë§Œ 'ë°ì´í„° ì¤€ë¹„ì¤‘ ..' í…ìŠ¤íŠ¸ê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°

- ì´ë¥¼ í†µí•´ ë¶€ë¶„ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒ ì•Œ ìˆ˜ ìˆë‹¤

---

## 5.12 ê³µì‹ ì‚¬ì´íŠ¸ ì½ê¸° âœï¸

### [Data Fetching](https://nextjs.org/docs/app/building-your-application/data-fetching)

- The Next.js App Router introduces a new, simplified data fetching system built on React and the Web platform.

- This page will go through the fundamental concepts and patterns to help you manage your data's lifecycle.

- Here's a quick overview of the recommendations on this page:

1. Fetch data on the server using Server Components.

2. Fetch data in parallel to minimize waterfalls and reduce loading times.

3. For Layouts and Pages, fetch data where it's used. Next.js will automatically dedupe requests in a tree.

  - Layoutì™€ Page íŒŒì¼ ë‚´ë¶€ì— ì¤‘ë³µì ì¸ fetch data ë¡œì§ì´ ìˆë”ë¼ë„, Next.jsì—ì„œ ìë™ìœ¼ë¡œ ì¤‘ë³µ ì œê±°ë¥¼ í•´ì¤€ë‹¤.

4. Use Loading UI, Streaming and Suspense to progressively render a page and show a result to the user while the rest of the content loads.

- [Fetching Data on the Server](https://nextjs.org/docs/app/building-your-application/data-fetching/patterns#fetching-data-on-the-server)

  - Whenever possible, we recommend fetching data inside Server Components.

  - Server Components always fetch data on the server. This allows you to:

    - ë¬¸ì„œ ì°¸ê³ 

- [Parallel and Sequential Data Fetching](https://nextjs.org/docs/app/building-your-application/data-fetching/patterns#parallel-and-sequential-data-fetching)

  - ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤

- [Automatic fetch() Request Deduping](https://beta.nextjs.org/docs/data-fetching/fundamentals#component-level-data-fetching)

  - ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ ì¤‘ë³µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ ìˆì–´ì„œ ì¤‘ë³µì ëœ ë™ì¼í•œ ìš”ì²­ë˜ë”ë¼ë„ Next.jsì—ì„œ ì•Œì•„ì„œ ìë™ìœ¼ë¡œ ì¤‘ë³µì œê±°ë¥¼ í•´ì„œ ìœ ì¼í•œ ìš”ì²­ í•˜ë‚˜í•˜ë‚˜ë§Œ ë‚¨ê¸´ë‹¤

  - POST requests are not automatically deduplicated.

    - ì£¼ì˜í•  ê²ƒì€ POST ìš”ì³¥ ê°™ì€ ê²½ìš°ì—ëŠ” ì¤‘ë³µ ì œê±°ë¥¼ í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤

  -> í˜„ì¬ëŠ” í•´ë‹¹ ë¬¸ì„œ ì°¾ì„ ìˆ˜ ì—†ë‹¤.

-----

## 5.14 API ë¼ìš°íŠ¸ë€ ë¬´ì—‡ì¸ê°€?

- [API Routes](https://nextjs.org/docs/pages/building-your-application/routing/api-routes)

- Next.js ì‚¬ìš©í•˜ë©´ í’€ìŠ¤íƒ ê°€ëŠ¥í•œë° ì´ê±¸ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ê²ƒì´ api í´ë”

- ë³„ë„ì˜ ì„œë²„ ì—†ì–´ë„ api í´ë” ë‚´ë¶€ì— ìˆëŠ” íŒŒì¼ì— ì •ì˜ëœ í•¨ìˆ˜ë¥¼ vercelì— ë“±ë¡í•˜ë©´, ë³„ë„ì˜ ì„œë²„ ìš´ì˜í•˜ì§€ ì•Šì•„ë„ í•´ë‹¹ ê²½ë¡œì— api ìš”ì²­ì´ ì˜¤ë©´ ê·¸ë•Œ ì‹¤í–‰ëœë‹¤.

- ì¦‰, ì„œë²„ì²˜ëŸ¼ ì‹¤í–‰ëœë‹¤.

- ì„œë¹„ìŠ¤ì—ì„œ ì œí’ˆì— ëŒ€í•œ ê²ƒ ì½ì–´ì™€ì„œ, í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì½”ë“œì—ì„œ ë°±ì—”ë“œ ì„œë²„ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

<br/>

- Next.js ì—ì„œ ì‘ì„±í•˜ëŠ” API Route ê·¸ë¦¬ê³  ë¯¸ë“¤ì›¨ì–´ëŠ” ì„œë²„ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤. í˜ì´ì§€ ìš”ì²­ (ë¸Œë¼ìš°ì €ì—ì„œ URLì„ ì…ë ¥í–ˆì„ë–„) ì‹¤í–‰ë˜ëŠ” ë¯¸ë“¤ì›¨ì–´ ì½”ë“œë„ ë‹¹ì—°íˆ! ì„œë²„ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.

- ì„œë²„ì—ì„œ í•„ìš”í•œ ì‚¬í•­ë“¤ì„ ì²´í¬í•˜ê³ , í•„ìš”í•œ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ë Œë”ë§ í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ë‚´ì£¼ê²Œ ë˜ê³ , ê·¸ë’¤ ë¸Œë¼ìš°ì €ì—ì„œ í™”ë©´ì— í‘œê¸° ë˜ê² ì£ ?
  
----

## 5.15 ì»¤ë®¤ë‹ˆí‹°ì— ê¸°ì—¬ í•˜ê¸° ğŸ˜Š

- [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers)

- ê¸°ì¡´ì—ëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ ì¡°ê±´ë¬¸ìœ¼ë¡œ ì²˜ë¦¬ í•´ì£¼ì–´ì•¼ í–ˆëŠ”ë°

```js
export default function handler(
  req: NextApiRequest,
  res: NextApiResponse<Data>
) {
  if (req.method === 'GET') {
    res.status(200).json({ name: 'John Doe' });
  }
}
```

- ìš”ì²­ë³„ë¡œ í•¨ìˆ˜ë¥¼ ê°œë³„ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤

```js
import { NextResponse } from 'next/server';

export async function GET() {
  const res = await fetch('https://data.mongodb-api.com/...', {
    headers: {
      'Content-Type': 'application/json',
      'API-Key': process.env.DATA_API_KEY,
    },
  });
  const data = await res.json();

  return NextResponse.json({ data });
}
```

---

## 5.16 ì˜ˆì „ ë°©ì‹ì˜ API ë¼ìš°íŠ¸

- ë³´ì‹œë©´ ì¢‹ì„ ì„œë²„ë¦¬ìŠ¤ ì˜ìƒ: https://youtu.be/E4uhnFOwevA

----

## 5.17 ìµœì‹  ë°©ì‹ì˜ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬

- appí´ë”ì—ì„œ api í´ë”ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì•„ë˜ì²˜ëŸ¼ ìµœì‹ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•´ì£¼ì–´ì•¼ í•œë‹¤

```shell

$ yarn add next@canary

```

### Q. 2ë¶„5ì´ˆì— ì—˜ë¦¬ìŒ¤ê»˜ì„œ ë§ì”€í•´ì£¼ì‹  ë‚´ìš©ì¤‘ì—

- "NextResponse"ë¼ëŠ” íƒ€ì…ì—ì„œ jsonì„ ì´ìš©í•´ì„œ ë¼ê³  ë§ì”€í•´ì£¼ì…¨ëŠ”ë° ê¶ê¸ˆí•œ ì ì´ ìˆì–´ ì§ˆë¬¸ë“œë¦½ë‹ˆë‹¤!

- ì—¬ê¸°ì„œ json()ì€ ë³´í†µ ë…¸ë“œì—ì„œ ì“°ëŠ” {data}.json()ê³¼ëŠ” ë‹¤ë¥¸ ë©”ì†Œë“œ ì¸ê°€ìš”?

- íƒ€ì…ë„ í´ë˜ìŠ¤ì¸ìŠ¤í„´ìŠ¤ ì²˜ëŸ¼ ë©”ì†Œë“œë¥¼ ê°€ì§€ê³  ìˆì„ ìˆ˜ ìˆë‚˜ìš”?

### A. 

- NextResponse ê°ì²´ëŠ” Response ê°ì²´ì˜ í™•ì¥ëœ ë²„ì „ì´êµ¬ìš”.

- Response ê°ì²´ ìì²´ì ìœ¼ë¡œëŠ” í˜„ì¬ Next js ì—ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì—ëŸ¬ê°€ ë°œìƒí•´ì„œ ì´ë¥¼ ë” ì•ˆì •í™”ì‹œí‚¨ í™•ì¥ ë²„ì „ì´ NextResponse ê°ì²´ì…ë‹ˆë‹¤.

- ë”°ë¼ì„œ ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ë³´ë‹¤ ì•ˆì •í™”ë˜ë©´ì„œ í¸ë¦¬í•œ ê¸°ëŠ¥ì„ ì¶”ê°€ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì„œ ì´ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ë‹ˆë‹¤.

- Next ì—ì„œë„ ì´ì— ëŒ€í•œ ì‚¬ìš©ì„ ê¶Œì¥í•˜ê³  ìˆêµ¬ìš”. ì´ ë¶€ë¶„ì€ 12ë²„ì „ê³¼ 13ë²„ì „ ë¬¸ì„œì—ì„œ ì‰½ê²Œ ì„¤ëª…í•´ì£¼ê³  ìˆìœ¼ë‹ˆ í™•ì¸í•´ë³´ì„¸ìš”.

- ë§ˆì§€ë§‰ìœ¼ë¡œ json() ë©”ì„œë“œëŠ” í•˜ëŠ” ì—­í• ì´ ë˜‘ê°™ìŠµë‹ˆë‹¤.
