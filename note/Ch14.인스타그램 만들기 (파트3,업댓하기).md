## 14.2 SWR ì´í•´í•˜ê¸°

- ê¼­ í•œë²ˆ ì½ì–´ë³´ê¸°

  - https://swr.vercel.app/ko/docs/advanced/understanding

- Fetch and Revalidate

  - Revalidateì—ì„œëŠ” isValidatingë§Œ trueê°€ ëœë‹¤

- Key Change

  - keyê°€ ë³€ê²½ë˜ë©´ isLoading, isValidating ëª¨ë‘ trueê°€ ëœë‹¤

<img src='./images/14-1-1.png'>

- ë‘ë²ˆì§¸ ìš”ì²­ì„ í•˜ê²Œ ë˜ë©´ staleí•œ ê²ƒ ë³´ì—¬ì£¼ë©´ì„œ ë°±ê·¸ë¼ìš´ë“œ ìƒìœ¼ë¡œëŠ” ë‹¤ì‹œ ì„œë²„ì— ìš”ì²­í•´ì„œ ìºì‹œëœ ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤

- ë§Œì•½ ë³€ê²½ì‚¬í•­ì´ ì—†ë‹¤ë©´ UI ê·¸ëŒ€ë¡œ ë³´ì´ê² ì§€ë§Œ ë³€ê²½ì‚¬í•­ì´ ìˆë‹¤ë©´ UIê°€ ì—…ë°ì´íŠ¸ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤

---

## 14.3 ì¢‹ì•„ìš” í† ê¸€í•˜ê¸°â“

- https://www.sanity.io/docs/js-client

- https://next-auth.js.org/configuration/callbacks

- https://swr.vercel.app/docs/mutation

---

## 14.4 ì¢‹ì•„ìš”ğŸ’¡- í† ê¸€ë²„íŠ¼

### Q.

- ìŒ.. ê°œë…ì´ í—·ê°ˆë¦¬ëŠ” ê±° ê°™ì€ë° ìš°ì„  ì œ ìƒê°ì—ëŠ” ActionBar ì»´í¬ë„ŒíŠ¸ 'use client' ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì§€ì •í•´ì•¼í•˜ì§€ ì•Šë‚˜? ìƒê°ì´ ë“œëŠ”ë°.. ì—ëŸ¬ê°€ ì•ˆë‚˜ëŠ”ê±°ë³´ë‹ˆ ì•„ì§ ê°œë…ì´ ë¶€ì¡±í•œê±° ê°™ìŠµë‹ˆë‹¤.

- ê·¸ë˜ì„œ ê¶ê¸ˆí•œ ë‚´ìš©ì€ ActionBar ì»´í¬ë„ŒíŠ¸ëŠ” ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•´ì•¼í•˜ì§€ ì•Šë‚˜? ìƒê°ì´ ë“­ë‹ˆë‹¤.

- ê·¼ë° í•´ë‹¹ ê°•ì˜ ë‚´ìš©ì—ì„œëŠ” ê·¸ë ‡ì§€ ì•Šì•„ì„œ? í´ë¼ì´ì–¸íŠ¸ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ì´ìœ ì™€? ì„œë²„ ì»´í¬ë„ŒíŠ¸?ì—ì„œ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ì´ìœ ë„ ê¶ê¸ˆí•˜ë„¤ìš”ã… ã… 

### A.

- ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì¸ì§€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì¸ì§€ëŠ” ì»´í¬ë„ŒíŠ¸ íŒŒì¼ì— "use client" ì„ ì–¸ ì—¬ë¶€ì— ë”°ë¼ì„œ ê²°ì •ë˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.

- ì–´ë–¤ í˜ì´ì§€ì— ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì¤‘ì²©ë˜ì–´ ìˆì„ ë•Œ "use client"ëŠ” "use client"ë¥¼ ì„ ì–¸í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ í¬í•¨í•´ì„œ ìì‹(ìì†) ì»´í¬ë„ŒíŠ¸ë“¤ì„ ëª¨ë‘ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ê°„ì£¼í•˜ê² ë‹¤ëŠ” ì¼ì¢…ì˜ ì„ ì–¸ê³¼ ê°™ìŠµë‹ˆë‹¤.

- ActionBar ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì— ëŒ€í•œ ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```shell
PostListCard -> ActionBar

PostListCard -> PostDetail -> ActionBar

PostGridCard -> PostDetail -> ActionBar
```

- PostListCard íŒŒì¼ê³¼ PostGridCard íŒŒì¼ì—ëŠ” ëª¨ë‘ "use client"ê°€ ì„ ì–¸ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê·¸ ìì‹(ìì†) ì»´í¬ë„ŒíŠ¸ì¸ ActionBar ëŠ” ìë™ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œì¨ ë™ì‘í•˜ê²Œ ë©ë‹ˆë‹¤.

- ì•„ë˜ ê³µì‹ ë¬¸ì„œë¥¼ ì½ì–´ë³´ì‹œë©´ ì¢€ ë” ì´í•´í•˜ì‹œëŠ”ë° ë„ì›€ì´ ë˜ì‹¤ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

  - https://beta.nextjs.org/docs/rendering/server-and-client-components

- í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ ì˜¬ ìˆ˜ ìˆëŠ” ì´ìœ ëŠ” í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ children propsë¡œ ë“¤ì–´ê°”ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

  - https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns#interleaving-server-and-client-components
