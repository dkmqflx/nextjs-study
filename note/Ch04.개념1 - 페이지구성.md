## 4.4 ì •ì  ë¼ìš°íŒ…(Static Routing) ë¹„êµ(ë²„ì „ 13)

- ì—¬ëŸ¬ ê²½ë¡œ í˜ì´ì§€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê³µí†µì˜ ì»´í¬ë„ŒíŠ¸ê°€ ìˆê³  ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ë”ë¼ë„ í•´ë‹¹í•˜ëŠ” ê³µí†µì˜ ì»´í¬ë„ŒíŠ¸ëŠ” ìœ ì§€í•˜ê³  ë‹¤ë¥¸ ë¶€ë¶„ë§Œ ë³´ì—¬ì£¼ëŠ” ê²½ìš°ê°€ ìˆë‹¤ê³  í•˜ì

- ì´ ë•Œ ê¸°ì¡´ì˜ next.jsì—ì„œ pages í´ë” ì•ˆì— ë‘ì—ˆì„ ë•ŒëŠ” ê³µí†µìœ¼ë¡œ ë³´ì—¬ì£¼ê³  ì‹¶ì€ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” í•œê³„ì ì´ ìˆì—ˆê¸° ë•Œë¬¸ì— 13 ë²„ì „ì—ì„œëŠ” ìƒˆë¡œìš´ ë°©ë²•ì´ ì¶”ê°€ë˜ì—ˆë‹¤.

- ê·¸ë¦¬ê³  ë²„ì „ 12 -> 13 ì´ë™í•  ë•Œ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— appì´ë¼ëŠ” ìƒˆë¡œìš´ ê²½ë¡œì—ì„œ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.

  - ë™ì¼í•œ ê²½ë¡œë¥¼ appê³¼ pagesì— ë™ì‹œì— ì •ì˜í•˜ê²Œ ë˜ë©´ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤

- app ë¼ìš°íŒ…ì—ì„œëŠ” í´ë”ë¥¼ ë§Œë“¤ê³ , í´ë” ì•ˆì— pageë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤

  - [Routing Fundamentals - Roles of Folders and Files](https://nextjs.org/docs/app/building-your-application/routing#roles-of-folders-and-files)

- app ë¼ìš°íŒ…ì—ì„œ ê° íŒŒì¼ì´ ë‹´ë‹¹í•˜ëŠ” ì—­í• ì´ ìˆê³ , ë¶€ëª¨ ë¼ìš°íŒ… í´ë” ë‚´ì— ìì‹ ë¼ìš°íŒ…ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤


### Q. 

- ê°œë…ì„¤ëª… ë¶€ë¶„ì—ì„œ ëŒ€ëµì ìœ¼ë¡œ ë§ì”€í•´ì£¼ì…¨ë˜ê²ƒ ê°™ê¸°ëŠ”í•œë° ì•„ì§ ì˜ ì´í•´ê°€ ë˜ì§€ ì•Šì•˜ë‚˜ë´ìš”
  
- ê°•ì˜ ë‚´ìš©ì„ ì˜ˆë¡œ ë“¤ìë©´, ì œí’ˆ ì„¤ëª… í˜ì´ì§€ê°€ ë¨¼ì € ë Œë”ë§ ë ê²ƒì´ê³ , ê·¸ ë‹¤ìŒì— slugì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°, ì—¬ê¸°ì—ì„œëŠ” pantsë¥¼ ë¶ˆëŸ¬ì˜¬í…ë°,
  
- ì´ë•Œ ê·¸ëŸ¬ë©´ UIì—ì„œëŠ” pants ë¶€ë¶„ì˜ ê³µê°„ì´ ì™¼ìª½ ê³µë°±ì—†ì´ ë Œë”ë§ ëë‹¤ê°€, jsê°€ ë‹¤ìš´ë°›ì•„ì§€ë©´ì„œ ë‹¤ì‹œ ìƒˆë¡œê³ ì¹¨(?) ë˜ë“¯ì´ ì „ì²´ë¦¬ë Œë”ë§ì´ ë˜ëŠ” ê±¸ê¹Œìš”?

### A.

- ê¸€ì„ìš”. ì´ê±´ í˜ì´ì§€ë¥¼ ì–´ë–¤ ë Œë”ë§ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ ë‘ì—ˆëƒì— ë”°ë¼ ë‹¬ë¼ì§€ê² ì£ ?
  
- Dynamic Routeë¥¼ ì‚¬ìš©í• ë•Œ ê°ê° slug ë³„ë¡œ ë¯¸ë¦¬ í˜ì´ì§€ë¥¼ ìƒì„±í•´ ë‘ì—ˆë‹¤ë©´ SSGë¡œ í–‰ë™í• ê±°êµ¬ìš” (generateStaticParams í•¨ìˆ˜ ì‚¬ìš©)

- SSRë¡œ ë§Œë“¤ì–´ ë‘ì—ˆë‹¤ë©´ ì„œë²„ì—ì„œ ë Œë”ë§ ë˜ê² ì£ .

----

## 4.7 ë¹Œë“œ ê²°ê³¼ ë¶„ì„ í•´ë³´ê¸°ğŸ¤“

- npm run devë¡œ ì‹¤í–‰ì„ í•˜ë©´, ê¸°ë³¸ì ìœ¼ë¡œ SSRë¡œ ì‘ë™í•˜ê¸° ë•Œë¬¸ì— SSG í˜ì´ì§€ë¼ë„ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•˜ê³  ë‚˜ë©´ ê·¸ ë•Œ ì„œë²„ì—ì„œ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì„œ responseë¡œ ì „ë‹¬í•œë‹¤

- ê·¸ë ‡ê¸° ë•Œë¬¸ì— í˜ì´ì§€ ì´ë™ í›„ í™”ë©´ì„ ë³´ëŠ”ë° ì‹œê°„ì´ ì¡°ê¸ˆ ê±¸ë¦°ë‹¤ 

- npm run build í•˜ë©´ ë¹Œë“œ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆëŠ”ë° appê³¼ page í´ë” ë‚´ë¶€ì— ì–´ë– í•œ íŒŒì¼ì´ ìˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆê³ , ì–´ë– í•œ ë°©ì‹ìœ¼ë¡œ ë Œë”ë§ ë˜ì—ˆëŠ”ì§€ë„ ì•Œ ìˆ˜ ìˆë‹¤.

- ê·¸ë¦¬ê³  ë‚˜ì„œ npm run startë¥¼ í•˜ë©´ ì´ì „ê³¼ ë‹¬ë¦¬ í˜ì´ì§€ë¥¼ ì´ë™í•˜ë©´ ë” ë¹ ë¥´ê²Œ ì¦‰ê° í˜ì´ì§€ë¥¼ ë³¼ ìˆ˜ ìˆëŠ”ë°, ê·¸ ì´ìœ ëŠ” ë¹Œë“œ íƒ€ì„ì— SSGë¡œ í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ë†“ì•˜ê¸° ë•Œë¬¸
  
---

## 4.8 ë™ì  ë¼ìš°íŒ…

- A Dynamic Segment can be created by wrapping a folder's name in square brackets: [folderName]. For example, [id] or [slug].

```tsx
// /products/[slug]

type Props = {
  params:{
    slug:string
  }
  
export default function Page({ params }: Props}) {
  return <div>My Post: {params.slug}</div>
}
```

- build í•˜ë©´ SSGë¡œ /products/[slug] í˜ì´ì§€ê°€ ë§Œë“¤ì–´ì ¸ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

- ë‹¤ë§Œ slugì— í•´ë‹¹í•˜ëŠ” ê²½ë¡œëŠ” ë™ì ìœ¼ë¡œ ê²°ì¡ë˜ê¸° ë•Œë¬¸ì— ì•„ë¬´ê²ƒë„ ë§Œë“¤ì–´ì ¸ ìˆì§€ ì•Šë‹¤.

- ì¦‰, /productsë¡œ ì´ë™í•˜ë©´ í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ëŠ” SSGë¡œ ë§Œë“¤ì–´ì ¸ ìˆì–´ì„œ ë°”ë¡œ ì„œë²„ì—ì„œ ì „ë‹¬ë°›ì§€ë§Œ

- /producst/shirtë¡œ ì´ë™í•˜ë©´ í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ëŠ” SSRë¡œ ì„œë²„ì—ì„œ ë Œë”ë§ ë˜ì–´ì„œ ê°€ì ¸ì˜¨ë‹¤

- page router ê¸°ì¤€,getStaticPaths, getServerSideProps ê°™ì€ í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.
  
- app router ê¸°ì¤€, generateStaticParams getServerSideProps ê°™ì€ í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.
  

### Reference

- [Dynamic Routes](https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes)

---

## 4.9 í˜ì´ì§€ ë¯¸ë¦¬ ìƒì„±

- generateStaticParams ì‚¬ìš©í•´ì„œ return í•œ ê°’ì— í•´ë‹¹ í•˜ëŠ” í˜ì´ì§€ê°€ ë¹Œë“œí•˜ë©´ ìƒì„±ëœë‹¤

```tsx

// /products/[slug]

type Props = {
  params:{
    slug:string
  }
  
export default function Page({ params }: Props}) {
  return <div>My Post: {params.slug}</div>
}

export async function generateStaticParams() {
  const products = ["shirt", pants"]
 
  return products.map((product) => ({
    slug: product
  }))
}
```

- ë¹Œë“œë¥¼ í•´ë³´ë©´ ê¸°ì¡´ì˜  /products/[slug] ì´ì™¸ì˜ /products/shirt, /product/pants í˜ì´ì§€ë„ SSGë¡œ ë§Œë“¤ì–´ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

- ê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì€ ë©”ì„¸ì§€ê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°,

 - automatically generated as static HTML + JSON (uses getStaticProps) - SSG

- ê³¨ê²©ì„ ë§Œë“¤ì–´ì¤€ í˜ì´ì§€ëŠ” Pre Renderì´ ë˜ì–´ HTMLì´ ìˆê³  ê·¸ HTMLì— Propìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ë°ì´í„°ê°€ JSONìœ¼ë¡œ ë§Œë“¤ì–´ì§„ë‹¤ëŠ” ëœ»

- ì¦‰, generateStaticParamsì´ì´ return ê°’ì„ PantsPageì˜ propsë¡œ ì „ë‹¬í•´ì„œ í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ Pre Render í•´ì¤€ë‹¤.

- ë§Œì•½, generateStaticParamsì´ return í•˜ì§€ ì•ŠëŠ” ê°’ìœ¼ë¡œ dynamic routeë¡œ ì´ë™í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì‘ë™í•œë‹¤ -> SSR
  
  - 1. PantsPageëŠ” HTMLë¡œ ë¯¸ë¦¬ ë§Œë“¤ì–´ì¤€ë‹¤
  
  - 2. dynamic routerë¡œ ì´ë™í•´ì„œ slugì— í•´ë‹¹í•˜ëŠ” ê°’ì„ PantsPageì˜ propsë¡œ params ê°’ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.
    
  - 3. í•´ë‹¹ ë°ì´í„°ë¥¼ ì±„ì›Œì„œ ë‹¤ì‹œ HTMLìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•œë‹¤.
  
  - 4. ì¦‰, JSON í˜•íƒœë¡œ í•´ë‹¹ í˜ì´ì§€ì˜ paramsë¡œ ì „ë‹¬í•œ ë‹¤ìŒ ë‹¤ì‹œ HTMLìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•œë‹¤


### Reference
- [Generating Static Params](https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes#generating-static-params)

---

## 4.10 ê³µì‹ ì‚¬ì´íŠ¸ ì½ê¸° 

- [Pages and Layouts](https://nextjs.org/docs/pages/building-your-application/routing/pages-and-layouts)

- [Dynamic Routes](https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes)

- [Rendering](https://nextjs.org/docs/pages/building-your-application/rendering)

  <blockquote>
    By default, Next.js pre-renders every page. This means that Next.js generates HTML for each page in advance, instead of having it all done by client-side JavaScript. Pre-rendering can result in better performance and SEO.

    <br/>
    
    Each generated HTML is associated with minimal JavaScript code necessary for that page. When a page is loaded by the browser, its JavaScript code runs and makes the page fully interactive (this process is called hydration in React).

  <br/>

  We recommend using Static Generation over Server-side Rendering for performance reasons. Statically generated pages can be cached by CDN with no extra configuration to boost performance. However, in some cases, Server-side Rendering might be the only option.


<br/>

You can also use client-side data fetching along with Static Generation or Server-side Rendering. That means some parts of a page can be rendered entirely by clientside JavaScript. To learn more, take a look at the Data Fetching documentation.

        
  </blockquote>


- layout.js
  
  - ì¬ì‚¬ìš©ê°€ëŠ¥í•œ ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ê³¨ê²©ì„ ë§Œë“ ë‹¤
    
- templates.js
  
  - layoutê³¼ ë¹„ìŠ·í•œë° layoutì€ ìƒíƒœë¥¼ ê³„ì† ê¸°ì–µí•˜ëŠ” ë°˜ë©´ì— ê³¨ê²©ì„ ë§Œë“¤ì§€ë§Œ ìƒíƒœë¥¼ ê¸°ì–µí•˜ì§€ ì•ŠëŠ”ë‹¤
    
  - ê·¸ë ‡ê¸° ë•Œë¬¸ì— templatesì„ ì‚¬ìš©í•´ì„œ ìƒˆë¡œìš´ í˜ì´ì§€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ ê°ê° ê°œë³„ì ì¸ ì¸ìŠ¤í„´ìŠ¤ëŠ” ìƒíƒœë¥¼ ê³µìœ í•  ìˆ˜ ì—†ë‹¤

- (folderName)

  - A route group can be created by wrapping a folder's name in parenthesis: (folderName)
 
  - ê°œë…ì ìœ¼ë¡œ ë¹„ìŠ·í•œ ë¼ìš°íŠ¸ë¥¼ ë¬¶ê¸° ìœ„í•œ ë°©ë²•ì´ë‹¤

  - [Route groups](https://nextjs.org/docs/app/building-your-application/routing/colocation#route-groups) 


- [Dynamic Routes](https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes)

---

## 4.11 Not Found í˜ì´ì§€

- 13.3 ë²„ì „ ì´í›„ì—ëŠ” pages/404.tsx ê²½ë¡œ ë§Œë“¤ í•„ìš” ì—†ì–´ìš” âœ¨

  - (app ê²½ë¡œ ì‚¬ìš©í•˜ëŠ”ë° 404 íŒŒì¼ì„ ìœ„í•´ì„œ ê²°êµ­ pages ê²½ë¡œ ì„¤ì •í•˜ëŠ”ê²Œ ë²ˆê±°ë¡œì› ëŠ”ë° ê²°êµ­ ì—…ë°ì´íŠ¸ ë˜ì—ˆë„¤ìš”)

  - https://nextjs.org/docs/app/api-reference/file-conventions/not-found

  
- ë§¤ì¹­ ë˜ì§€ ì•ŠëŠ” URLì„ ì‚¬ìš©ìê°€ ì…ë ¥í•  ê²½ìš° app/not-found.tsx íŒŒì¼ì´ ë Œë”ë§ ë©ë‹ˆë‹¤.

- ì¦‰, app ê²½ë¡œë‚´ì— ìµœìƒìœ„ not-found.tsx ë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ next ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•´ì£¼ëŠ” 404 ì¶œë ¥
  
- ê·¸ë¦¬ê³  next.jsì—ì„œ ì œê³µí•˜ëŠ” notFound í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ê°™ì€ í´ë” ë‚´ë¶€ì— ìˆëŠ” not-found íŒŒì¼ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤

---

## 4.12 ë ˆì´ì•„ì›ƒìœ¼ë¡œ ê³¨ê²©ì„!

- layout.jsëŠ” í´ë” ë§ˆë‹¤ ë§Œë“¤ ìˆ˜ ìˆëŠ” íŒŒì¼ë¡œ í•´ë‹¹ í´ë” ë‚´ë¶€ì— ìˆëŠ” ëª¨ë“  íŒŒì¼ì´ ê³µìœ í•  ìˆ˜ ìˆë‹¤ (í—¤ë”, nav barë“± )

- ì¦‰, ìì‹ í´ë” ì•ˆì— ìˆëŠ” ëª¨ë“  íŒŒì¼ë“¤ì´ layout ë‚´ë¶€ë¡œ ë“¤ì–´ê°€ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

- [Layouts](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#layouts)
---

## 4.20 Next.js ì¥ì  íŒŒì•…

- ê¸°ë³¸ í˜ì´ì§€ì—ì„œ ë„¤íŠ¸ì›Œí¬ íƒ­ ë³´ë©´, Products, About, Contact ë“±ì— í•„ìš”í•œ ë°ì´í„° ì •ë³´ë¥¼ ë°›ì•„ì˜¨ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤

- ë‚˜ëŠ” hover ë˜ëŠ” ìˆœê°„ ë°ì´í„° ë°›ì•„ì˜¨ë‹¤ -> yarn devë¡œ ì‹¤í–‰í–ˆê¸° ë•Œë¬¸

- yarn dev(ê°œë°œí™˜ê²½)ìœ¼ë¡œ ì‹¤í–‰í•˜ì‹œì§€ ì•Šê³ ,

- yarn build->yarn start(ì œí’ˆí™˜ê²½)ìœ¼ë¡œ ì‹¤í–‰ í•´ ë³´ë©´ ê²°ê³¼ê°€ ê°•ì˜ì™€ ë™ì¼í•˜ê²Œ ë°”ë¡œ pre-fetchingì´ ì˜ ëœë‹¤.

- ê³µì‹ ë¬¸ì„œ ë‚´ìš©

  - Prefetchingì€ ì˜¤ì§ ì œí’ˆ(í™˜ê²½)ì—ì„œë§Œ ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.(yarn dev=ê°œë°œí™˜ê²½), (yarn build,yarn start= ì œí’ˆí™˜ê²½)
  
  - Prefetchingì€ ì‚¬ìš©ì¤‘ì¸ <Link> componentê°€ í™”ë©´(viewport)ì— ë³´ì¼ë•Œ ì‹¤í–‰ëœë‹¤. (ë§ˆìš°ìŠ¤ì™€ ìƒê´€X) 

- ì¦‰ prefetchingì€ í™”ë©´ì— visible ë³´ì¼ë•Œ ì‘ë™í•œë‹¤.

  - By default, routes are prefetched as they become visible in the viewport when using the <Link> component. 

- Linkë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ Link í˜ì´ì§€ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ pre fetching í•´ì˜¨ë‹¤.

- Image íƒœê·¸ê°™ì€ ê²½ìš°ì—ë„ ë§Œì•½ ìŠ¤í¬ë¡¤ ì•„ë˜ ìˆì–´ì„œ ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ë©´ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ í•˜ì§€ ì•Šê³ , ìŠ¤í¬ë¡¤ í•´ì„œ ì´ë¯¸ì§€ì— ê·¼ì ‘í•´ì§„ ìˆœê°„ ì´ë¯¸ì§€ë¥¼ ìš”ì²­í•œë‹¤ 
